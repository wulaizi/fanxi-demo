(this["webpackJsonpreact-fanxi"]=this["webpackJsonpreact-fanxi"]||[]).push([[0],{123:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},129:function(e,t,n){},157:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},164:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(26),l=n.n(i),o=(n(123),n(124),n(16)),r=n(21),c=n(23),s=n(22),u=(n(125),n(169)),d=(n(126),n(4)),j=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return n}(a.Component);j.Item=function(e){var t,n,a,i,l,o,r;return Object(d.jsxs)("div",{className:"list-item",children:[Object(d.jsxs)("div",{className:"list-item-top",children:[Object(d.jsxs)("h2",{children:["#",null!==(t=null===e||void 0===e?void 0:e.title)&&void 0!==t?t:""]}),Object(d.jsx)(u.a,{width:"50%",placeholder:Object(d.jsx)("div",{style:{width:"50%",textAlign:"center",verticalAlign:"middle",color:"#ffffff"},children:"\u6cdb\u516e"}),src:null!==(n=null===e||void 0===e?void 0:e.image)&&void 0!==n?n:"#",alt:""}),Object(d.jsx)("h4",{children:Object(d.jsx)("a",{href:null!==(a=null===e||void 0===e?void 0:e.htmlUrl)&&void 0!==a?a:"#",target:"_blank",children:null!==(i=null===e||void 0===e?void 0:e.fullName)&&void 0!==i?i:""})})]}),Object(d.jsxs)("div",{className:"list-item-bottom",children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("i",{className:"fa fa-user",style:{color:"rgb(255, 191, 116)"}}),Object(d.jsx)("a",{target:"_blank",href:null===e||void 0===e?void 0:e.ownerHtmlUrl,children:null===e||void 0===e?void 0:e.name})]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("i",{className:"fa fa-star",style:{color:"rgb(255, 215, 0)"}}),"stars:",null!==(l=null===e||void 0===e?void 0:e.stargazersCount)&&void 0!==l?l:""," "]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("i",{className:"fa fa-code-fork",style:{color:"rgb(129, 195, 245)"}}),"forks:",null!==(o=null===e||void 0===e?void 0:e.forksCount)&&void 0!==o?o:""," "]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("i",{className:"fa fa-warning",style:{color:"rgb(241, 138, 147)"}}),"Open issues:",null!==(r=null===e||void 0===e?void 0:e.issuesCount)&&void 0!==r?r:""," "]})]})]})};n(129);var h=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.active,a=e.data;return Object(d.jsx)("div",{className:"nav-bar",children:Object(d.jsx)("ul",{children:a&&a.map((function(e){return Object(d.jsx)("li",{className:n==e?"nav-active":"nav-default",onClick:function(){t&&t(e)},children:e},e+"")}))})})}}]),n}(a.PureComponent),v=n(104),f=n.n(v).a.create({baseURL:"https://api.github.com/",timeout:2e4,headers:{"Content-Type":"application/json"}});var b={_Get:function(e){var t=e.url,n=void 0===t?"":t,a=e.params,i=void 0===a?{}:a;return new Promise((function(e,t){f.get(n,{params:i}).then((function(n){console.log(n),n.data?e(n.data):t(n.data)}),(function(e){t(e)}))}))}},p=function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,null,[{key:"searchRepositories",value:function(e){return b._Get({url:"search/repositories",params:e})}},{key:"getUserInfo",value:function(e){return b._Get({url:"users/".concat(e)})}}]),e}(),O=(n(96),n(86)),m=n(51),g=n(168),x=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).refresh=a.refresh.bind(Object(m.a)(a)),a.loadMore=a.loadMore.bind(Object(m.a)(a)),a.onScrollMethod=a.onScrollMethod.bind(Object(m.a)(a)),a.state={dataList:[],pageNum:1,total_pages:0,refreshing:!1,loadMoreing:!1,notMoreData:!1},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.refresh(),window.addEventListener("scroll",this.onScrollMethod)}},{key:"shouldComponentUpdate",value:function(e,t){return((null===t||void 0===t?void 0:t.dataList)instanceof Array&&(null===t||void 0===t?void 0:t.dataList.length)||t.notMoreData)&&(this.initData||(this.update(this.LOAD_SUCCESS),this.initData=!0)),!0}},{key:"getScrollTop",value:function(){var e=0,t=0;return document.body&&(e=document.body.scrollTop),document.documentElement&&(t=document.documentElement.scrollTop),e-t>0?e:t}},{key:"getScrollHeight",value:function(){var e=0,t=0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t}},{key:"getWindowHeight",value:function(){return"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}},{key:"onScrollMethod",value:function(e){this.props.pageSize;var t=this.state,n=t.pageNum,a=t.total_pages;t.loadMoreing||n<a&&this.getScrollTop()+this.getWindowHeight()>=this.getScrollHeight()&&this.loadMore()}},{key:"refresh",value:function(){var e=this,t=this.props,n=t.method,a=t.pageSize;this.update(this.LOAD_ING),n&&this.setState({refreshing:!0},(function(){n(1,a,(function(t,n){t.forEach((function(e,t){e.key=t+""}));var a=!1;e.state.pageNum>=n&&(a=!0),e.setState({dataList:t,total_pages:n,pageNum:1,refreshing:!1,notMoreData:a},(function(){e.update(e.LOAD_SUCCESS)}))}))}))}},{key:"loadMore",value:function(){var e=this;this.setState({loadMoreing:!0},(function(){var t=e.props,n=t.method,a=t.pageSize,i=t.keys,l=e.state,o=l.dataList,r=l.pageNum;n&&n(r+1,a,(function(t,n){(o=[].concat(Object(O.a)(o),Object(O.a)(t))).forEach((function(e,t){e.key=i?i(e):t+""})),e.setState({dataList:o,total_pages:n,pageNum:r+1,loadMoreing:!1})}))}))}},{key:"renderComponent",value:function(){var e,t,n=this.state,a=n.dataList,i=n.refreshing,l=n.pageNum,o=n.loadMoreing,r=n.total_pages,c=this.props,s=c.render,u=c.dataSource,j=c.keys;u&&u.forEach((function(e,t){return e.key=j?j(e):t.toString()}));var h=!(0===(u||a).length)||i||o?u||a:[],v=(null===(e=this.props)||void 0===e?void 0:e.handleData)?null===(t=this.props)||void 0===t?void 0:t.handleData(h):h;return Object(d.jsxs)("div",{className:"refresh-wrap",children:[Object(d.jsx)("div",{className:"content-wrap",children:(v||[]).map((function(e,t){return s(e,t,v)}))}),Object(d.jsx)("div",{className:"loadingMore",children:i?null:l<r?Object(d.jsxs)("div",{children:[Object(d.jsx)(g.a,{style:{marginRight:"30px"}}),"\u52a0\u8f7d\u66f4\u591a..."]}):Object(d.jsx)("div",{style:{width:"100%",textAlign:"center"},children:"\u6ca1\u6709\u6570\u636e\u4e86"})})]})}}]),n}(function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).LOAD_ING=0,a.LOAD_SUCCESS=1,a.LOAD_FAILD=2,a.LOAD_EMPTY=3,a.state={LOAD_STATE:a.LOAD_FAILD},a}return Object(r.a)(n,[{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.state.LOAD_STATE!==e&&this.setState({LOAD_STATE:e},t)}},{key:"refresh",value:function(){}},{key:"_renderLoading",value:function(){return Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"300px"},children:Object(d.jsx)(g.a,{tip:"Loading..."})})}},{key:"_renderLoadFailed",value:function(){return Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:"\u52a0\u8f7d\u5931\u8d25..."})}},{key:"_renderLoadEmpty",value:function(){return null}},{key:"renderComponent",value:function(){return null}},{key:"_renderLoadComponents",value:function(){switch(this.state.LOAD_STATE){case this.LOAD_SUCCESS:try{return this.renderComponent()}catch(e){return this._renderLoadFailed()}case this.LOAD_FAILD:return this._renderLoadFailed();case this.LOAD_EMPTY:return this.renderComponent();default:return this._renderLoading()}}},{key:"render",value:function(){return this._renderLoadComponents()}}]),n}(a.Component));x.defaultProps={method:null,pageSize:10,dataSource:!1,count:!1};var y=n(171),C=n(172),k=["All","JavaScript","Ruby","Java","CSS"],S=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).changeTab=function(e){a.setState({currentTab:e},(function(){a.popularRef&&a.popularRef.refresh()}))},a.requireData=function(e,t,n){var i=a.state.currentTab.toLowerCase(),l="all"==i?"stars:>1":"stars:>1 language:".concat(i);p.searchRepositories({q:l,sort:"stars",order:"desc",type:"Repositories",page:e}).then((function(e){(null===e||void 0===e?void 0:e.items)&&(null===e||void 0===e?void 0:e.items.length)?n(null===e||void 0===e?void 0:e.items,Math.ceil((null===e||void 0===e?void 0:e.total_count)/30)):n&&n([],0)})).catch((function(e){n&&n([],0)}))},a.initData=!1,a.state={currentTab:"All",renderData:{}},a}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.currentTab;t.renderData;return Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{data:k,active:n,onChange:this.changeTab}),Object(d.jsx)(y.a,{children:Object(d.jsx)(x,{method:this.requireData,ref:function(t){return e.popularRef=t},render:function(e,t){var n,a;return Object(d.jsx)(C.a,{xs:24,sm:12,md:8,lg:6,children:Object(d.jsx)(j.Item,{title:t+1,image:null===e||void 0===e||null===(n=e.owner)||void 0===n?void 0:n.avatar_url,name:null===e||void 0===e?void 0:e.name,fullName:null===e||void 0===e?void 0:e.full_name,htmlUrl:null===e||void 0===e?void 0:e.html_url,ownerHtmlUrl:null===e||void 0===e||null===(a=e.owner)||void 0===a?void 0:a.html_url,stargazersCount:null===e||void 0===e?void 0:e.stargazers_count,forksCount:null===e||void 0===e?void 0:e.forks_count,issuesCount:null===e||void 0===e?void 0:e.open_issues_count})},e.key+"")}})})]})}}]),n}(a.Component),N=n(40),I=n(113),_=n(114),L=n(170),U=(n(157),n(173)),w=n(76),D=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleInputValue=function(e,t){a.setState(Object(N.a)({},e,t.target.value))},a.getUserInfo=function(e,t){a.setState({loading:!0,flag:e},(function(){p.getUserInfo(t).then((function(t){t&&a.setState(Object(N.a)({},e,t))})).catch((function(e){I.b.destroy(),I.b.error({content:"\u5185\u5bb9\u4e0d\u5b58\u5728",style:{marginTop:"30vh"}})})).finally((function(){a.setState({loading:!a.state.loading})}))}))},a.removeUserInfo=function(e){a.setState(Object(N.a)({},e,null))},a.jumpPage=function(){var e=a.state,t=e.leftInputValue,n=e.rightInputValue;a.props.history.push("/result?player1=".concat(t,"&player2=").concat(n))},console.log(a.props),a.state={leftInputValue:"",rightInputValue:"",leftUserInfo:null,rightUserInfo:null,loading:!1,flag:"leftUserInfo"},a}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.leftInputValue,a=t.rightInputValue,i=t.leftUserInfo,l=t.rightUserInfo,o=t.loading;return Object(d.jsxs)("div",{style:{width:"100%"},children:[Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("h2",{children:"Instructions"}),Object(d.jsxs)("div",{className:"icon-content",children:[Object(d.jsx)(A,{title:"Enter two Github:",icon:Object(d.jsx)("i",{className:"fa fa-users _2jxN-VXSysaUNXEOXoVAUp",style:{fontSize:"80px",color:"rgb(255, 191, 116)"}})}),Object(d.jsx)("div",{className:"center-item",children:Object(d.jsx)(A,{title:"Battle",icon:Object(d.jsx)("i",{className:"fa fa-fighter-jet _2jxN-VXSysaUNXEOXoVAUp",style:{fontSize:"80px",color:"gray"}})})}),Object(d.jsx)(A,{title:"See the winner",icon:Object(d.jsx)(U.a,{style:{fontSize:"80px",color:"rgb(243,232,87)"}})})]}),Object(d.jsx)("h3",{children:"Players"})]}),Object(d.jsxs)("div",{className:"battle-footer",children:[i?Object(d.jsx)(T,{imageUrl:null===i||void 0===i?void 0:i.avatar_url,name:null===i||void 0===i?void 0:i.login,onClick:function(){return e.removeUserInfo("leftUserInfo")}}):Object(d.jsx)(E,{title:"Player One",buttonLable:"Submit",placeholder:"github username",disabled:!n,callback:function(t){return e.handleInputValue("leftInputValue",t)},onClick:function(){return e.getUserInfo("leftUserInfo",n)},loading:"leftUserInfo"==this.state.flag&&o}),Object(d.jsx)("div",{className:"space"}),l?Object(d.jsx)(T,{imageUrl:null===l||void 0===l?void 0:l.avatar_url,name:null===l||void 0===l?void 0:l.login,onClick:function(){return e.removeUserInfo("rightUserInfo")}}):Object(d.jsx)(E,{title:"Player Two",buttonLable:"Submit",placeholder:"github username",disabled:!a,callback:function(t){return e.handleInputValue("rightInputValue",t)},onClick:function(){return e.getUserInfo("rightUserInfo",a)},loading:"rightUserInfo"==this.state.flag&&o})]}),i&&l&&Object(d.jsx)("div",{className:"footer-button",children:Object(d.jsx)(_.a,{onClick:this.jumpPage,children:"Battle"})})]})}}]),n}(a.Component),A=function(e){var t;return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"instructions-title",children:null!==(t=null===e||void 0===e?void 0:e.title)&&void 0!==t?t:""}),Object(d.jsx)("div",{className:"instructions-item",children:null===e||void 0===e?void 0:e.icon})]})},E=function(e){var t,n;return Object(d.jsxs)("div",{className:"input-main",children:[Object(d.jsx)("h3",{children:null!==(t=null===e||void 0===e?void 0:e.title)&&void 0!==t?t:""}),Object(d.jsxs)("div",{className:"input-wrap",children:[Object(d.jsx)(L.a,{onKeyUp:function(t){13===t.keyCode&&(null===e||void 0===e?void 0:e.onClick)&&(null===e||void 0===e||e.onClick())},placeholder:null===e||void 0===e?void 0:e.placeholder,onChange:function(t){return(null===e||void 0===e?void 0:e.callback)&&(null===e||void 0===e?void 0:e.callback(t))}}),Object(d.jsx)("div",{className:"space"}),Object(d.jsx)(_.a,{loading:null===e||void 0===e?void 0:e.loading,onClick:(null===e||void 0===e?void 0:e.onClick)&&(null===e||void 0===e?void 0:e.onClick),disabled:null!==(n=null===e||void 0===e?void 0:e.disabled)&&void 0!==n&&n,children:null===e||void 0===e?void 0:e.buttonLable})]})]})},T=function(e){var t,n;return Object(d.jsxs)("div",{className:"input-wrap card",children:[Object(d.jsxs)("div",{className:"card-leading",children:[Object(d.jsx)("div",{className:"img-wrap",children:Object(d.jsx)("img",{src:null!==(t=null===e||void 0===e?void 0:e.imageUrl)&&void 0!==t?t:"",alt:""})}),Object(d.jsx)("span",{children:null!==(n=null===e||void 0===e?void 0:e.name)&&void 0!==n?n:""})]}),Object(d.jsx)("div",{className:"card-trailing",onClick:(null===e||void 0===e?void 0:e.onClick)&&(null===e||void 0===e?void 0:e.onClick),children:Object(d.jsx)(w.a,{style:{color:"#ffffff",fontWeight:"bolder"}})})]})},M=n(20),P=n(84),V=(n(159),function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).getUserInfo=function(e,t){p.getUserInfo(t).then((function(t){t&&a.setState(Object(N.a)({},e,t))})).finally((function(){}))},a.goBack=function(){a.props.history.goBack()};var i=e.location.search.replace("?","").split("&");return a.player1=i[0].split("=")[1],a.player2=i[1].split("=")[1],a.state={player1Info:null,player2Info:null},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.getUserInfo("player1Info",this.player1),this.getUserInfo("player2Info",this.player2)}},{key:"render",value:function(){var e=this.state,t=e.player1Info,n=e.player2Info,a=(null===t||void 0===t?void 0:t.public_repos)==(null===n||void 0===n?void 0:n.public_repos)?"equal":(null===t||void 0===t?void 0:t.public_repos)>(null===n||void 0===n?void 0:n.public_repos);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"result-container",children:[Object(d.jsx)(F,Object(P.a)({win:"equal"==a?"equal":a},t)),Object(d.jsx)(F,Object(P.a)({win:"equal"==a?"equal":!a},n))]}),Object(d.jsx)("div",{className:"card-button",children:Object(d.jsx)(_.a,{onClick:this.goBack,children:"Reset"})})]})}}]),n}(a.Component)),F=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.win,n=e.avatar_url,a=e.public_repos,i=e.location,l=e.followers,o=e.following;return Object(d.jsxs)("div",{className:"card-container",children:[Object(d.jsx)("h2",{children:"equal"==t?"equal":t?"Winner":"Loser"}),Object(d.jsx)("img",{src:null!==n&&void 0!==n?n:"",alt:""}),Object(d.jsxs)("span",{className:"core",children:["Scores:",null!==a&&void 0!==a?a:0]}),Object(d.jsxs)("div",{style:{textAlign:"left",width:"100%"},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{className:"fa fa-location-arrow"}),null!==i&&void 0!==i?i:0]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{className:"fa fa-group"}),null!==l&&void 0!==l?l:0]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{className:"fa fa-user-plus"}),null!==o&&void 0!==o?o:0]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{className:"fa fa-code"}),null!==a&&void 0!==a?a:0]})]})]})}}]),n}(a.Component),R=[{path:"/popular",label:"Popular",Component:S,nav:!0},{path:"/battle",label:"Battle",Component:D,nav:!0},{path:"/result",lable:"Resut",Component:V}],q=n(54),z=(n(160),function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props.currentSelect;return Object(d.jsx)("div",{className:"header",children:R.map((function(n){return Object(d.jsx)("div",{onClick:function(){return e.props.onChange&&e.props.onChange(n)},children:Object(d.jsx)(q.b,{to:n.path,className:t==n.label?"active-nav-label nav-label-public":"nav-label nav-label-public",children:n.label})},n.path+"")}))})}}]),n}(a.Component)),H=(n(164),function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"footer",children:"\u7248\u6743\u6240\u6709 \xa9 LIUWENCAN"})}}]),n}(a.Component)),B=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={currentSelect:"Popular"},a}return Object(r.a)(n,[{key:"onChangeSelect",value:function(e){this.setState({currentSelect:e.label})}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"wrap",children:[Object(d.jsx)(z,{currentSelect:this.state.currentSelect,onChange:function(t){return e.onChangeSelect(t)}}),Object(d.jsx)("div",{className:"content",children:Object(d.jsxs)(M.d,{children:[Object(d.jsx)(M.a,{exact:!0,path:"/",to:"/Popular"}),Object(d.jsx)(M.b,{path:"/Popular",component:S}),Object(d.jsx)(M.b,{path:"/battle",component:D}),Object(d.jsx)(M.b,{exact:!0,path:"/result",component:V})]})}),Object(d.jsx)(H,{})]})}}]),n}(a.Component),G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,174)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,l=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),l(e),o(e)}))};n(165);l.a.render(Object(d.jsx)(q.a,{children:Object(d.jsx)(B,{})}),document.getElementById("root")),G()},96:function(e,t,n){}},[[166,1,2]]]);
//# sourceMappingURL=main.87cc8555.chunk.js.map